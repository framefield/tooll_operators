{
  "Name": "Camera backup",
  "_id": "e73986b4-4cd4-465d-8fb3-d327c5081e88",
  "Namespace": "lib.3d",
  "Description": "Sets a Camera-Perspective for the incoming scene. \r\nWhen selected, you can click into the render-view to fly through the scene with the keys A,S,D,F,E,C and the mouse.\r\nTo change the persective when Render To Images and Post-processing is applied, Lock one of the renderViews to the Camera.\r\n",
  "Inputs": [
    {
      "Name": "SceneInput",
      "MetaInstanceID": "1723a118-899a-4f4e-b715-70c34c8f502f",
      "DefaultValue": {
        "Type": "Scene",
        "Value": "Framefield.Core.Scene"
      },
      "MetaID": "79122951-7bc4-4c68-b085-866eab828248",
      "IsMultiInput": "False",
      "Relevance": "Required",
      "Description": "",
      "Min": "-100000",
      "Max": "100000",
      "Scale": "1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "Position.X",
      "MetaInstanceID": "82a3662c-5904-48ac-a827-384fa83557aa",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-100000",
      "Max": "100000",
      "Scale": "0.1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "Position.Y",
      "MetaInstanceID": "eb7581bb-cc5e-47c7-ac54-1bf5039c695a",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-100000",
      "Max": "100000",
      "Scale": "0.1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "Position.Z",
      "MetaInstanceID": "63f18cca-fb63-460a-981f-2ae54f6a5776",
      "DefaultValue": {
        "Type": "Float",
        "Value": "-2.415"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-100000",
      "Max": "100000",
      "Scale": "0.1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "Target.X",
      "MetaInstanceID": "5a42cd49-d1ad-46bb-824b-16a43bfc5f89",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-100000",
      "Max": "100000",
      "Scale": "1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "Target.Y",
      "MetaInstanceID": "b187c25b-c29e-41dc-b866-87e44e97fde4",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-100000",
      "Max": "100000",
      "Scale": "1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "Target.Z",
      "MetaInstanceID": "ed2cabf5-678e-48c4-b7f5-83dd72ecfb27",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-100000",
      "Max": "100000",
      "Scale": "0.1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "Up.X",
      "MetaInstanceID": "9d56ea88-b3bc-4416-91a8-a5aadfc532d3",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-100000",
      "Max": "100000",
      "Scale": "0.1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "Up.Y",
      "MetaInstanceID": "501eb162-e739-4816-a13d-c52393c6a5a6",
      "DefaultValue": {
        "Type": "Float",
        "Value": "1"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-100000",
      "Max": "100000",
      "Scale": "0.1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "Up.Z",
      "MetaInstanceID": "8776d33a-22e9-4de8-a925-b0e555cbe92e",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-100000",
      "Max": "100000",
      "Scale": "0.1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "AspectRatio",
      "MetaInstanceID": "a1601133-f7dc-4465-aab8-7b53eb5820eb",
      "DefaultValue": {
        "Type": "Float",
        "Value": "-1"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-100000",
      "Max": "100000",
      "Scale": "0.01",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "Clip.Near",
      "MetaInstanceID": "2295df06-f1fa-4c2d-ab1b-f072798015f3",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0.1"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-100000",
      "Max": "100000",
      "Scale": "0.01",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "Clip.Far",
      "MetaInstanceID": "e779b478-f207-4dec-8b16-88d8c4b19987",
      "DefaultValue": {
        "Type": "Float",
        "Value": "1000"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-100000",
      "Max": "100000",
      "Scale": "1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "FOV",
      "MetaInstanceID": "f29bb1f5-fc7f-4b4a-b993-ec10cb7e4a38",
      "DefaultValue": {
        "Type": "Float",
        "Value": "45"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "0",
      "Max": "360",
      "Scale": "1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "Roll",
      "MetaInstanceID": "5301534e-71ff-461a-b425-a5aff7b20df2",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-100000",
      "Max": "100000",
      "Scale": "1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "PositionOffset.X",
      "MetaInstanceID": "43b0b240-6df0-4be4-8d4f-8c97a497e622",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-10000",
      "Max": "10000",
      "Scale": "0.1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "PositionOffset.Y",
      "MetaInstanceID": "a15395b4-e008-420a-a2a2-7b034066e8e9",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-10000",
      "Max": "10000",
      "Scale": "0.1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "PositionOffset.Z",
      "MetaInstanceID": "7723d752-446e-4f1d-a91c-8dd08ccd7636",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-10000",
      "Max": "10000",
      "Scale": "0.1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "RotateOffset.X",
      "MetaInstanceID": "8628d1cf-2ff7-485d-a323-125b06dc60d8",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-10000",
      "Max": "10000",
      "Scale": "0.1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "RotateOffset.Y",
      "MetaInstanceID": "7050a082-f574-4b93-a8d4-41e079a047a2",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-10000",
      "Max": "10000",
      "Scale": "0.1",
      "ScaleType": "Linear",
      "EnumValues": []
    },
    {
      "Name": "RotateOffset.Z",
      "MetaInstanceID": "7593c216-a71c-49eb-b76a-0979b1fc54ff",
      "DefaultValue": {
        "Type": "Float",
        "Value": "0"
      },
      "MetaID": "3f76dee3-3897-44ac-82d6-25ce9f53a506",
      "IsMultiInput": "False",
      "Relevance": "Optional",
      "Description": "",
      "Min": "-10000",
      "Max": "10000",
      "Scale": "0.1",
      "ScaleType": "Linear",
      "EnumValues": []
    }
  ],
  "Outputs": [
    {
      "Name": "Output",
      "MetaInstanceID": "4cfe5497-24de-4a23-af50-47b7bb4b2df3",
      "MetaID": "79122951-7bc4-4c68-b085-866eab828248"
    },
    {
      "Name": "This",
      "MetaInstanceID": "c4cc5016-a861-4256-9657-7b59703e74c1",
      "MetaID": "9701d534-b3ff-4889-a250-84aece4a7d76"
    }
  ],
  "OperatorParts": [
    {
      "MetaInstanceID": "8ff4933b-db0a-4274-988b-a25874b91ba2",
      "MetaID": "0071188c-92fe-4682-97cd-84dedc37349b",
      "Name": "Camera backupFunc",
      "Version": "dc098d43-5587-43bc-888b-35e7333c1fd0",
      "Type": "Scene",
      "IsMultiInput": "True",
      "Script": [
        "//>>> _using",
        "using System;",
        "using System.Collections.Generic;",
        "using System.Linq;",
        "using System.Text;",
        "using SharpDX;",
        "using SharpDX.Direct3D11;",
        "using SharpDX.Windows;",
        "//<<< _using",
        "using System.Dynamic;",
        "",
        "namespace Framefield.Core.ID0071188c_92fe_4682_97cd_84dedc37349b",
        "{",
        "    public class Class_Camera_backup : OperatorPart.Function, Framefield.Core.OperatorPartTraits.ICameraProvider",
        "    {",
        "        //>>> _inputids",
        "        private enum InputId",
        "        {",
        "            SceneInput = 0,",
        "            PositionX = 1,",
        "            PositionY = 2,",
        "            PositionZ = 3,",
        "            TargetX = 4,",
        "            TargetY = 5,",
        "            TargetZ = 6,",
        "            UpX = 7,",
        "            UpY = 8,",
        "            UpZ = 9,",
        "            AspectRatio = 10,",
        "            ClipNear = 11,",
        "            ClipFar = 12,",
        "            FOV = 13,",
        "            Roll = 14,",
        "            PositionOffsetX = 15,",
        "            PositionOffsetY = 16,",
        "            PositionOffsetZ = 17,",
        "            RotateOffsetX = 18,",
        "            RotateOffsetY = 19,",
        "            RotateOffsetZ = 20",
        "        }",
        "        //<<< _inputids",
        "        //>>> _outputids",
        "        private enum OutputId",
        "        {",
        "            Output = 0,",
        "            This = 1",
        "        }",
        "        //<<< _outputids",
        "",
        "        public override OperatorPartContext Eval(OperatorPartContext context, List<OperatorPart> inputs, int outputIdx)",
        "        {",
        "            //>>> _params",
        "            var SceneInput = inputs[(int)InputId.SceneInput];",
        "            var PositionX = inputs[(int)InputId.PositionX].Eval(context).Value;",
        "            var PositionY = inputs[(int)InputId.PositionY].Eval(context).Value;",
        "            var PositionZ = inputs[(int)InputId.PositionZ].Eval(context).Value;",
        "            var Position = new Vector3(PositionX, PositionY, PositionZ);",
        "            var TargetX = inputs[(int)InputId.TargetX].Eval(context).Value;",
        "            var TargetY = inputs[(int)InputId.TargetY].Eval(context).Value;",
        "            var TargetZ = inputs[(int)InputId.TargetZ].Eval(context).Value;",
        "            var Target = new Vector3(TargetX, TargetY, TargetZ);",
        "            var UpX = inputs[(int)InputId.UpX].Eval(context).Value;",
        "            var UpY = inputs[(int)InputId.UpY].Eval(context).Value;",
        "            var UpZ = inputs[(int)InputId.UpZ].Eval(context).Value;",
        "            var Up = new Vector3(UpX, UpY, UpZ);",
        "            var AspectRatio = inputs[(int)InputId.AspectRatio].Eval(context).Value;",
        "            var ClipNear = inputs[(int)InputId.ClipNear].Eval(context).Value;",
        "            var ClipFar = inputs[(int)InputId.ClipFar].Eval(context).Value;",
        "            var Clip = new Vector2(ClipNear, ClipFar);",
        "            var FOV = inputs[(int)InputId.FOV].Eval(context).Value;",
        "            var Roll = inputs[(int)InputId.Roll].Eval(context).Value;",
        "            var PositionOffsetX = inputs[(int)InputId.PositionOffsetX].Eval(context).Value;",
        "            var PositionOffsetY = inputs[(int)InputId.PositionOffsetY].Eval(context).Value;",
        "            var PositionOffsetZ = inputs[(int)InputId.PositionOffsetZ].Eval(context).Value;",
        "            var PositionOffset = new Vector3(PositionOffsetX, PositionOffsetY, PositionOffsetZ);",
        "            var RotateOffsetX = inputs[(int)InputId.RotateOffsetX].Eval(context).Value;",
        "            var RotateOffsetY = inputs[(int)InputId.RotateOffsetY].Eval(context).Value;",
        "            var RotateOffsetZ = inputs[(int)InputId.RotateOffsetZ].Eval(context).Value;",
        "            var RotateOffset = new Vector3(RotateOffsetX, RotateOffsetY, RotateOffsetZ);",
        "            //<<< _params",
        "",
        "            _fov = FOV;",
        "            FOV = (float)Utilities.DegreeToRad(FOV);",
        "",
        "            if (AspectRatio < 0) {",
        "                if (!context.Variables.TryGetValue(\"AspectRatio\", out AspectRatio)) {",
        "                    AspectRatio = (float)context.Viewport.Width / context.Viewport.Height;",
        "                }",
        "            }",
        "",
        "            _roll = (float)Utilities.DegreeToRad(Roll);",
        "            _eye = Position;",
        "            _target = Target;",
        "",
        "            _worldToCamera = CalcWorldToCamera(_eye, _target, (float)_roll, PositionOffset, RotateOffset);",
        "",
        "            var prevTransform = context.WorldToCamera;",
        "            context.WorldToCamera = _worldToCamera;",
        "",
        "            _cameraToView = Matrix.PerspectiveFovLH(FOV, AspectRatio, ClipNear, ClipFar);",
        "            var prevCamProj = context.CameraProjection;",
        "            context.CameraProjection = _cameraToView;",
        "",
        "            switch (outputIdx)",
        "            {",
        "                case (int)OutputId.Output:",
        "                    SceneInput.Eval(context);",
        "                    break;",
        "                case (int)OutputId.This:",
        "                    dynamic obj = new ExpandoObject();",
        "                    obj.This = this;",
        "                    context.Dynamic = obj;",
        "                    break;",
        "            }",
        "",
        "            context.CameraProjection = prevCamProj;",
        "            context.WorldToCamera = prevTransform;",
        "",
        "            return context;",
        "        }",
        "",
        "        public Vector3 GetLastPosition() {",
        "            return _eye;",
        "        }",
        "        public void SetPosition(double time, Vector3 pos) {",
        "            Animation.SetOperatorPartValue(OperatorPart.Parent.Inputs[(int)InputId.PositionX], time, pos.X);",
        "            Animation.SetOperatorPartValue(OperatorPart.Parent.Inputs[(int)InputId.PositionY], time, pos.Y);",
        "            Animation.SetOperatorPartValue(OperatorPart.Parent.Inputs[(int)InputId.PositionZ], time, pos.Z);",
        "        }",
        "",
        "        public Vector3 GetLastTarget() {",
        "            return _target;",
        "        }",
        "        public void SetTarget(double time, Vector3 target) {",
        "            Animation.SetOperatorPartValue(OperatorPart.Parent.Inputs[(int)InputId.TargetX], time, target.X);",
        "            Animation.SetOperatorPartValue(OperatorPart.Parent.Inputs[(int)InputId.TargetY], time, target.Y);",
        "            Animation.SetOperatorPartValue(OperatorPart.Parent.Inputs[(int)InputId.TargetZ], time, target.Z);",
        "        }",
        "",
        "        public double GetLastRoll() {",
        "            return _roll;",
        "        }",
        "        public void SetRoll(double time, double roll) {",
        "            Animation.SetOperatorPartValue(OperatorPart.Parent.Inputs[14], time, (float)roll);",
        "        }",
        "",
        "        public double GetLastFOV()",
        "        {",
        "            return _fov;",
        "        }",
        "",
        "        public double CalculateFOV(OperatorPartContext context) {",
        "            var invalidator = new OperatorPart.InvalidateTimeAccessors();",
        "            OperatorPart.Connections[13].TraverseWithFunction(null, invalidator);",
        "            var fov = OperatorPart.Connections[13].Eval(context).Value;",
        "            return fov;",
        "        }",
        "",
        "        public Matrix GetLastWorldToCamera() {",
        "            return _worldToCamera;",
        "        }",
        "",
        "        public Matrix CalculateWorldToCamera(OperatorPartContext context) {",
        "            var invalidator = new OperatorPart.InvalidateTimeAccessors();",
        "            OperatorPart.Connections[1].TraverseWithFunction(null, invalidator);",
        "            OperatorPart.Connections[2].TraverseWithFunction(null, invalidator);",
        "            OperatorPart.Connections[3].TraverseWithFunction(null, invalidator);",
        "            OperatorPart.Connections[4].TraverseWithFunction(null, invalidator);",
        "            OperatorPart.Connections[5].TraverseWithFunction(null, invalidator);",
        "            OperatorPart.Connections[6].TraverseWithFunction(null, invalidator);",
        "            OperatorPart.Connections[7].TraverseWithFunction(null, invalidator);",
        "            OperatorPart.Connections[8].TraverseWithFunction(null, invalidator);",
        "            OperatorPart.Connections[9].TraverseWithFunction(null, invalidator);",
        "            OperatorPart.Connections[14].TraverseWithFunction(null, invalidator);",
        "",
        "            var x = OperatorPart.Connections[(int)InputId.PositionX].Eval(context).Value;",
        "            var y = OperatorPart.Connections[(int)InputId.PositionY].Eval(context).Value;",
        "            var z = OperatorPart.Connections[(int)InputId.PositionZ].Eval(context).Value;",
        "            var position = new Vector3(x, y, z);",
        "",
        "            x = OperatorPart.Connections[(int)InputId.PositionOffsetX].Eval(context).Value;",
        "            y = OperatorPart.Connections[(int)InputId.PositionOffsetY].Eval(context).Value;",
        "            z = OperatorPart.Connections[(int)InputId.PositionOffsetZ].Eval(context).Value;",
        "            var positionOffset = new Vector3(x, y, z);",
        "",
        "            x = OperatorPart.Connections[(int)InputId.TargetX].Eval(context).Value;",
        "            y = OperatorPart.Connections[(int)InputId.TargetY].Eval(context).Value;",
        "            z = OperatorPart.Connections[(int)InputId.TargetZ].Eval(context).Value;",
        "            var target = new Vector3(x, y, z);",
        "",
        "            x = OperatorPart.Connections[(int)InputId.RotateOffsetX].Eval(context).Value;",
        "            y = OperatorPart.Connections[(int)InputId.RotateOffsetY].Eval(context).Value;",
        "            z = OperatorPart.Connections[(int)InputId.RotateOffsetZ].Eval(context).Value;",
        "            var rotateOffset = new Vector3(x, y, z);",
        "",
        "            var roll = (float)Utilities.DegreeToRad(OperatorPart.Connections[14].Eval(context).Value);",
        "",
        "            return CalcWorldToCamera(position, target, roll, positionOffset, rotateOffset);",
        "        }",
        "",
        "        public Matrix GetLastCameraToView()",
        "        {",
        "            return _cameraToView;",
        "        }",
        "",
        "        public Matrix CalculateCameraToView(OperatorPartContext context) {",
        "            var invalidator = new OperatorPart.InvalidateTimeAccessors();",
        "            OperatorPart.Connections[10].TraverseWithFunction(null, invalidator);",
        "            OperatorPart.Connections[11].TraverseWithFunction(null, invalidator);",
        "            OperatorPart.Connections[12].TraverseWithFunction(null, invalidator);",
        "            OperatorPart.Connections[13].TraverseWithFunction(null, invalidator);",
        "",
        "            var aspectRatio = OperatorPart.Connections[10].Eval(context).Value;",
        "            var clipNear = OperatorPart.Connections[11].Eval(context).Value;",
        "            var clipFar = OperatorPart.Connections[12].Eval(context).Value;",
        "            var fov = (float)Utilities.DegreeToRad(OperatorPart.Connections[13].Eval(context).Value);",
        "",
        "            if (aspectRatio < 0) {",
        "                if (!context.Variables.TryGetValue(\"AspectRatio\", out aspectRatio)) {",
        "                    aspectRatio = (float)context.Viewport.Width / context.Viewport.Height;",
        "                }",
        "            }",
        "            return Matrix.PerspectiveFovLH(fov, aspectRatio, clipNear, clipFar);",
        "        }",
        "",
        "        Matrix CalcWorldToCamera(Vector3 position, Vector3 target, float roll, Vector3 positionOffset, Vector3 rotateOffset)",
        "        {",
        "            var worldToCamera = Matrix.LookAtLH(position, target, new Vector3(0, 1, 0));",
        "            var rollRotation = Matrix.RotationAxis(new Vector3(0, 0, 1), -(float)roll);",
        "            var additionalTranslation = Matrix.Translation(positionOffset);",
        "            var additionalRotation = Matrix.RotationYawPitchRoll((float)Utilities.DegreeToRad(rotateOffset.Y),",
        "                                                                 (float)Utilities.DegreeToRad(rotateOffset.X),",
        "                                                                 (float)Utilities.DegreeToRad(rotateOffset.Z));",
        "",
        "            return worldToCamera*rollRotation*additionalTranslation*additionalRotation;",
        "        }",
        "",
        "        private Vector3 _eye;",
        "        private Vector3 _target;",
        "        private double _roll;",
        "        private double _fov;",
        "        private Matrix _worldToCamera;",
        "        private Matrix _cameraToView;",
        "    }",
        "}",
        "",
        ""
      ],
      "AdditionalAssemblies": []
    }
  ],
  "Operators": [],
  "Connections": [
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "1723a118-899a-4f4e-b715-70c34c8f502f",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "82a3662c-5904-48ac-a827-384fa83557aa",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "eb7581bb-cc5e-47c7-ac54-1bf5039c695a",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "63f18cca-fb63-460a-981f-2ae54f6a5776",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "5a42cd49-d1ad-46bb-824b-16a43bfc5f89",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "b187c25b-c29e-41dc-b866-87e44e97fde4",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "ed2cabf5-678e-48c4-b7f5-83dd72ecfb27",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "9d56ea88-b3bc-4416-91a8-a5aadfc532d3",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "501eb162-e739-4816-a13d-c52393c6a5a6",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "8776d33a-22e9-4de8-a925-b0e555cbe92e",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "a1601133-f7dc-4465-aab8-7b53eb5820eb",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "2295df06-f1fa-4c2d-ab1b-f072798015f3",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "e779b478-f207-4dec-8b16-88d8c4b19987",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "f29bb1f5-fc7f-4b4a-b993-ec10cb7e4a38",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "5301534e-71ff-461a-b425-a5aff7b20df2",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "43b0b240-6df0-4be4-8d4f-8c97a497e622",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "a15395b4-e008-420a-a2a2-7b034066e8e9",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "7723d752-446e-4f1d-a91c-8dd08ccd7636",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "8628d1cf-2ff7-485d-a323-125b06dc60d8",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "7050a082-f574-4b93-a8d4-41e079a047a2",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "7593c216-a71c-49eb-b76a-0979b1fc54ff",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "4cfe5497-24de-4a23-af50-47b7bb4b2df3"
    },
    {
      "SourceOp": "00000000-0000-0000-0000-000000000000",
      "SourceOpPart": "8ff4933b-db0a-4274-988b-a25874b91ba2",
      "TargetOp": "00000000-0000-0000-0000-000000000000",
      "TargetOpPart": "c4cc5016-a861-4256-9657-7b59703e74c1"
    }
  ]
}